{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanuka/Documents/GitHub/codexea/app/api/send-email/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport nodemailer from 'nodemailer';\n\nexport async function POST(req) {\n    try {\n        const { name, email, message } = await req.json();\n\n        // 1. Validate on server side as well\n        if (!name || !email || !message) {\n            return NextResponse.json({ error: 'Missing Required Fields' }, { status: 400 });\n        }\n\n        // 2. Configure Nodemailer Transporter\n        // IMPORTANT: User needs to set these env variables for this to work\n        const transporter = nodemailer.createTransport({\n            host: process.env.EMAIL_HOST || 'smtp.gmail.com', // Default fallback\n            port: Number(process.env.EMAIL_PORT) || 587,\n            secure: Boolean(process.env.EMAIL_SECURE) || false, // true for 465, false for other ports\n            auth: {\n                user: process.env.EMAIL_USER,\n                pass: process.env.EMAIL_PASS,\n            },\n        });\n\n        // 3. Send Email\n        await transporter.sendMail({\n            from: process.env.EMAIL_USER, // Sender address\n            to: 'info@codexea.com', // Receiver address (codexea)\n            replyTo: email, // Allow replying directly to the user\n            subject: `New Contact Form Submission from ${name}`,\n            text: `\nName: ${name}\nEmail: ${email}\n\nMessage:\n${message}\n            `,\n            html: `\n<h3>New Contact Form Submission</h3>\n<p><strong>Name:</strong> ${name}</p>\n<p><strong>Email:</strong> ${email}</p>\n<p><strong>Message:</strong></p>\n<p>${message.replace(/\\n/g, '<br>')}</p>\n            `,\n        });\n\n        return NextResponse.json({ message: 'Email Sent Successfully' }, { status: 200 });\n    } catch (error) {\n        console.error('Error sending email:', error);\n        return NextResponse.json({ error: 'Failed to send email' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,GAAG;IAC1B,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAE/C,qCAAqC;QACrC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS;YAC7B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QACjF;QAEA,sCAAsC;QACtC,oEAAoE;QACpE,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;YAC3C,MAAM,QAAQ,GAAG,CAAC,UAAU,IAAI;YAChC,MAAM,OAAO,QAAQ,GAAG,CAAC,UAAU,KAAK;YACxC,QAAQ,QAAQ,QAAQ,GAAG,CAAC,YAAY,KAAK;YAC7C,MAAM;gBACF,MAAM,QAAQ,GAAG,CAAC,UAAU;gBAC5B,MAAM,QAAQ,GAAG,CAAC,UAAU;YAChC;QACJ;QAEA,gBAAgB;QAChB,MAAM,YAAY,QAAQ,CAAC;YACvB,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC5B,IAAI;YACJ,SAAS;YACT,SAAS,CAAC,iCAAiC,EAAE,MAAM;YACnD,MAAM,CAAC;MACb,EAAE,KAAK;OACN,EAAE,MAAM;;;AAGf,EAAE,QAAQ;YACE,CAAC;YACD,MAAM,CAAC;;0BAEO,EAAE,KAAK;2BACN,EAAE,MAAM;;GAEhC,EAAE,QAAQ,OAAO,CAAC,OAAO,QAAQ;YACxB,CAAC;QACL;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA0B,GAAG;YAAE,QAAQ;QAAI;IACnF,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC9E;AACJ"}}]
}
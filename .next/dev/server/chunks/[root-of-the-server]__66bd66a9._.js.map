{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanuka/Documents/GitHub/codexea/app/data/services.js"],"sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\nconst servicesFilePath = path.join(process.cwd(), 'data', 'services.json');\n\n/**\n * Read services from JSON file\n */\nexport function getServices() {\n    try {\n        const fileContents = fs.readFileSync(servicesFilePath, 'utf8');\n        return JSON.parse(fileContents);\n    } catch (error) {\n        console.error('Error reading services:', error);\n        return [];\n    }\n}\n\n/**\n * Write services to JSON file\n */\nexport function saveServices(services) {\n    try {\n        fs.writeFileSync(servicesFilePath, JSON.stringify(services, null, 4), 'utf8');\n        return true;\n    } catch (error) {\n        console.error('Error saving services:', error);\n        return false;\n    }\n}\n\n/**\n * Get a single service by ID\n */\nexport function getServiceById(id) {\n    const services = getServices();\n    return services.find(s => s.id === id);\n}\n\n/**\n * Add a new service\n */\nexport function addService(serviceData) {\n    const services = getServices();\n    // Generate a slug-like id from title if not provided\n    const id = serviceData.id || serviceData.title.toLowerCase().replace(/[^a-z0-9]+/g, '-');\n    const newService = { ...serviceData, id };\n    services.push(newService);\n    saveServices(services);\n    return newService;\n}\n\n/**\n * Update an existing service\n */\nexport function updateService(id, serviceData) {\n    const services = getServices();\n    const index = services.findIndex(s => s.id === id);\n    if (index === -1) return null;\n\n    services[index] = { ...services[index], ...serviceData, id }; // Ensure id stays same\n    saveServices(services);\n    return services[index];\n}\n\n/**\n * Delete a service\n */\nexport function deleteService(id) {\n    const services = getServices();\n    const filteredServices = services.filter(s => s.id !== id);\n    if (filteredServices.length === services.length) return false;\n\n    saveServices(filteredServices);\n    return true;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,mBAAmB,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;AAKnD,SAAS;IACZ,IAAI;QACA,MAAM,eAAe,wGAAE,CAAC,YAAY,CAAC,kBAAkB;QACvD,OAAO,KAAK,KAAK,CAAC;IACtB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACb;AACJ;AAKO,SAAS,aAAa,QAAQ;IACjC,IAAI;QACA,wGAAE,CAAC,aAAa,CAAC,kBAAkB,KAAK,SAAS,CAAC,UAAU,MAAM,IAAI;QACtE,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO;IACX;AACJ;AAKO,SAAS,eAAe,EAAE;IAC7B,MAAM,WAAW;IACjB,OAAO,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;AACvC;AAKO,SAAS,WAAW,WAAW;IAClC,MAAM,WAAW;IACjB,qDAAqD;IACrD,MAAM,KAAK,YAAY,EAAE,IAAI,YAAY,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,eAAe;IACpF,MAAM,aAAa;QAAE,GAAG,WAAW;QAAE;IAAG;IACxC,SAAS,IAAI,CAAC;IACd,aAAa;IACb,OAAO;AACX;AAKO,SAAS,cAAc,EAAE,EAAE,WAAW;IACzC,MAAM,WAAW;IACjB,MAAM,QAAQ,SAAS,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAC/C,IAAI,UAAU,CAAC,GAAG,OAAO;IAEzB,QAAQ,CAAC,MAAM,GAAG;QAAE,GAAG,QAAQ,CAAC,MAAM;QAAE,GAAG,WAAW;QAAE;IAAG,GAAG,uBAAuB;IACrF,aAAa;IACb,OAAO,QAAQ,CAAC,MAAM;AAC1B;AAKO,SAAS,cAAc,EAAE;IAC5B,MAAM,WAAW;IACjB,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IACvD,IAAI,iBAAiB,MAAM,KAAK,SAAS,MAAM,EAAE,OAAO;IAExD,aAAa;IACb,OAAO;AACX"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanuka/Documents/GitHub/codexea/app/api/services/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { getServices, addService } from '@/app/data/services';\nimport { revalidatePath } from 'next/cache';\n\nexport async function GET() {\n    try {\n        const services = getServices();\n        return NextResponse.json(services);\n    } catch (error) {\n        return NextResponse.json({ error: 'Failed to fetch services' }, { status: 500 });\n    }\n}\n\nexport async function POST(request) {\n    try {\n        const data = await request.json();\n\n        // Basic validation\n        if (!data.title || !data.description || !data.theme) {\n            return NextResponse.json({ error: 'Missing required fields' }, { status: 400 });\n        }\n\n        const newService = addService(data);\n        revalidatePath('/services');\n        revalidatePath('/'); // Services also appear on home\n\n        return NextResponse.json(newService, { status: 201 });\n    } catch (error) {\n        console.error('Add service error:', error);\n        return NextResponse.json({ error: 'Failed to add service' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,WAAW,IAAA,wIAAW;QAC5B,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACJ;AAEO,eAAe,KAAK,OAAO;IAC9B,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,mBAAmB;QACnB,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,WAAW,IAAI,CAAC,KAAK,KAAK,EAAE;YACjD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QACjF;QAEA,MAAM,aAAa,IAAA,uIAAU,EAAC;QAC9B,IAAA,iJAAc,EAAC;QACf,IAAA,iJAAc,EAAC,MAAM,+BAA+B;QAEpD,OAAO,gJAAY,CAAC,IAAI,CAAC,YAAY;YAAE,QAAQ;QAAI;IACvD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ"}}]
}
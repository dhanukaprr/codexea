{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanuka/Documents/GitHub/codexea/app/data/projects.js"],"sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\nconst projectsFilePath = path.join(process.cwd(), 'data', 'projects.json');\n\n/**\n * Read projects from JSON file\n */\nexport function getProjects() {\n    try {\n        const fileContents = fs.readFileSync(projectsFilePath, 'utf8');\n        return JSON.parse(fileContents);\n    } catch (error) {\n        console.error('Error reading projects:', error);\n        return [];\n    }\n}\n\n/**\n * Write projects to JSON file\n */\nexport function saveProjects(projects) {\n    try {\n        fs.writeFileSync(projectsFilePath, JSON.stringify(projects, null, 4), 'utf8');\n        return true;\n    } catch (error) {\n        console.error('Error saving projects:', error);\n        return false;\n    }\n}\n\n/**\n * Get a single project by ID\n */\nexport function getProjectById(id) {\n    const projects = getProjects();\n    return projects.find(p => p.id === parseInt(id));\n}\n\n/**\n * Add a new project\n */\nexport function addProject(projectData) {\n    const projects = getProjects();\n    const newId = projects.length > 0 ? Math.max(...projects.map(p => p.id)) + 1 : 1;\n    const newProject = { id: newId, ...projectData };\n    projects.push(newProject);\n    saveProjects(projects);\n    return newProject;\n}\n\n/**\n * Update an existing project\n */\nexport function updateProject(id, projectData) {\n    const projects = getProjects();\n    const index = projects.findIndex(p => p.id === parseInt(id));\n    if (index === -1) return null;\n\n    projects[index] = { ...projects[index], ...projectData, id: parseInt(id) };\n    saveProjects(projects);\n    return projects[index];\n}\n\n/**\n * Delete a project\n */\nexport function deleteProject(id) {\n    const projects = getProjects();\n    const filteredProjects = projects.filter(p => p.id !== parseInt(id));\n    if (filteredProjects.length === projects.length) return false;\n\n    saveProjects(filteredProjects);\n    return true;\n}\n\n// Note: Do not export static projects array as it leads to stale data in server components.\n// Always use getProjects() to ensure you have the latest data from the JSON file.\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,mBAAmB,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;AAKnD,SAAS;IACZ,IAAI;QACA,MAAM,eAAe,wGAAE,CAAC,YAAY,CAAC,kBAAkB;QACvD,OAAO,KAAK,KAAK,CAAC;IACtB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACb;AACJ;AAKO,SAAS,aAAa,QAAQ;IACjC,IAAI;QACA,wGAAE,CAAC,aAAa,CAAC,kBAAkB,KAAK,SAAS,CAAC,UAAU,MAAM,IAAI;QACtE,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO;IACX;AACJ;AAKO,SAAS,eAAe,EAAE;IAC7B,MAAM,WAAW;IACjB,OAAO,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,SAAS;AAChD;AAKO,SAAS,WAAW,WAAW;IAClC,MAAM,WAAW;IACjB,MAAM,QAAQ,SAAS,MAAM,GAAG,IAAI,KAAK,GAAG,IAAI,SAAS,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,IAAI;IAC/E,MAAM,aAAa;QAAE,IAAI;QAAO,GAAG,WAAW;IAAC;IAC/C,SAAS,IAAI,CAAC;IACd,aAAa;IACb,OAAO;AACX;AAKO,SAAS,cAAc,EAAE,EAAE,WAAW;IACzC,MAAM,WAAW;IACjB,MAAM,QAAQ,SAAS,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,SAAS;IACxD,IAAI,UAAU,CAAC,GAAG,OAAO;IAEzB,QAAQ,CAAC,MAAM,GAAG;QAAE,GAAG,QAAQ,CAAC,MAAM;QAAE,GAAG,WAAW;QAAE,IAAI,SAAS;IAAI;IACzE,aAAa;IACb,OAAO,QAAQ,CAAC,MAAM;AAC1B;AAKO,SAAS,cAAc,EAAE;IAC5B,MAAM,WAAW;IACjB,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,SAAS;IAChE,IAAI,iBAAiB,MAAM,KAAK,SAAS,MAAM,EAAE,OAAO;IAExD,aAAa;IACb,OAAO;AACX,EAEA,4FAA4F;CAC5F,kFAAkF"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanuka/Documents/GitHub/codexea/app/api/projects/%5Bid%5D/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { getProjectById, updateProject, deleteProject } from '@/app/data/projects';\nimport { revalidatePath } from 'next/cache';\n\nexport async function GET(request, { params }) {\n    const { id } = await params;\n    const project = getProjectById(id);\n\n    if (!project) {\n        return NextResponse.json({ error: 'Project not found' }, { status: 404 });\n    }\n\n    return NextResponse.json(project);\n}\n\nexport async function PUT(request, { params }) {\n    try {\n        const { id } = await params;\n        const data = await request.json();\n\n        const updated = updateProject(id, data);\n        if (!updated) {\n            return NextResponse.json({ error: 'Project not found or update failed' }, { status: 404 });\n        }\n\n        revalidatePath('/portfolio');\n        return NextResponse.json(updated);\n    } catch (error) {\n        return NextResponse.json({ error: 'Failed to update project' }, { status: 500 });\n    }\n}\n\nexport async function DELETE(request, { params }) {\n    try {\n        const { id } = await params;\n        const success = deleteProject(id);\n\n        if (!success) {\n            return NextResponse.json({ error: 'Project not found or deletion failed' }, { status: 404 });\n        }\n\n        revalidatePath('/portfolio');\n        return NextResponse.json({ message: 'Project deleted successfully' });\n    } catch (error) {\n        return NextResponse.json({ error: 'Failed to delete project' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,OAAO,EAAE,EAAE,MAAM,EAAE;IACzC,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IACrB,MAAM,UAAU,IAAA,2IAAc,EAAC;IAE/B,IAAI,CAAC,SAAS;QACV,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAoB,GAAG;YAAE,QAAQ;QAAI;IAC3E;IAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC7B;AAEO,eAAe,IAAI,OAAO,EAAE,EAAE,MAAM,EAAE;IACzC,IAAI;QACA,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;QACrB,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,MAAM,UAAU,IAAA,0IAAa,EAAC,IAAI;QAClC,IAAI,CAAC,SAAS;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAqC,GAAG;gBAAE,QAAQ;YAAI;QAC5F;QAEA,IAAA,iJAAc,EAAC;QACf,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACJ;AAEO,eAAe,OAAO,OAAO,EAAE,EAAE,MAAM,EAAE;IAC5C,IAAI;QACA,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;QACrB,MAAM,UAAU,IAAA,0IAAa,EAAC;QAE9B,IAAI,CAAC,SAAS;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAuC,GAAG;gBAAE,QAAQ;YAAI;QAC9F;QAEA,IAAA,iJAAc,EAAC;QACf,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA+B;IACvE,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACJ"}}]
}